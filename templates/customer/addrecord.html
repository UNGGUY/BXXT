{% extends 'base.html' %}


{% load static %}





{% block title %}ADD RECORD{% endblock %}
{% block css %}
<link rel="stylesheet" href="{% static 'bootstrap/css/bootstrap.min.css' %}">
{% endblock %}

{% block content %}


<div class="container" style="margin-top: 3%;">
    <form action="/bxxt/customer/records/add/{{apply_id}}/" method="post" enctype="multipart/form-data">
        <h3>TRANRFER</h3>
    {% csrf_token %}
        <div class="form-group">
            <label for="tr_no">NO</label>

            <input type="text" class="form-control" name="tr_no" id="tr_no">
        </div>
        <div class="form-group">
            <label for="tr_hname">HOSPITAL NAME</label>

            <input type="text" class="form-control" name="tr_hname" id="tr_hname" onchange="change_h(this.value)">
        </div>
        <div class="form-group">
            <label for="tr_sname">DEPARTMENT NAME</label>
            <input type="text" class="form-control" name="tr_sname" id="tr_sname" onchange="change_s(this.value)" >
        </div>
        <div class="form-group">
            <label for="tr_date">DATE</label>
            <input type="date" class="form-control" name="tr_date" id="tr_date" onchange="change_d(this.value)">
        </div>
        <div class="form-group">
            <label for="tr_image">TRANRFER IMAGE</label>
            <input type="file" class="form-control-file" name="tr_image" id="tr_image" onchange="tr_changepic(this)">
        </div>
        <div class="form-group">
            <img src=""  class="img-thumbnail" alt="detail image" id="tr_image_show" style="max-width: 40%; height: auto;"
                 onerror="this.style.display='none'">
        </div>
        <hr class="my-4">
        <h3>REGISTRATION</h3>
        <div class="form-group">
            <label for="re_no">NO</label>
            <input type="text" class="form-control" name="re_no" id="re_no">
        </div>
        <div class="form-group">
            <label for="re_hname">HOSPITAL NAME</label>
            <input type="text" class="form-control" name="re_hname" id="re_hname" onchange="change_h(this.value)">
        </div>
        <div class="form-group">
            <label for="re_sname">DEPARTMENT NAME</label>
            <input type="text" class="form-control" name="re_sname" id="re_sname" onchange="change_s(this.value)">
        </div>
        <div class="form-group">
            <label for="re_date">DATE</label>
            <input type="date" class="form-control" name="re_date" id="re_date" onchange="change_d(this.value)">
        </div>
        <div class="form-group">
            <label for="re_fee">REGISTRATION FEE</label>
            <input type="text" class="form-control" name="re_fee" id="re_fee">
        </div>
        <div class="form-group">
            <label for="re_image">REGISTRATION IMAGE</label>
            <input type="file" class="form-control-file" name="re_image" id="re_image"
                   onchange="re_changepic(this)">
        </div>
        <div class="form-group">
            <img src=""  class="img-thumbnail" alt="detail image" id="re_image_show" style="max-width: 40%; height: auto;"
                 onerror="this.style.display='none'">
        </div>
        <hr class="my-4">
        <h3>INVOICE</h3>
        <div class="form-group">
            <label for="in_no">NO</label>
            <input type="text" class="form-control" name="in_no" id="in_no">
        </div>
        <div class="form-group">
            <label for="in_hname">HOSPITAL NAME</label>
            <input type="text" class="form-control" name="in_hname" id="in_hname" onchange="change_h(this.value)">
        </div>
        <div class="form-group">
            <label for="in_sname">DEPARTMENT NAME</label>
            <input type="text" class="form-control" name="in_sname" id="in_sname" onchange="change_s(this.value)">
        </div>
        <div class="form-group">
            <label for="in_date">DATE</label>
            <input type="date" class="form-control" name="in_date" id="in_date" onchange="change_d(this.value)">
        </div>
        <div class="form-group">
            <label for="in_fee">FEE</label>
            <input type="text" class="form-control" name="in_fee" id="in_fee">
        </div>
        <div class="form-group">
            <label for="in_image">INVOICE IMAGE</label>
            <input type="file" class="form-control-file" name="in_image"  id="in_image" onchange="in_changepic(this)">
        </div>
        <div class="form-group">
            <img src=""  class="img-thumbnail" alt="detail image" id="in_image_show" style="max-width: 40%; height: auto;"
                 onerror="this.style.display='none'">
        </div>
    <h3>MESSAGE</h3>
        <div class="form-group">
            <label for="msg">MESSAGE</label>
            <input type="text" class="form-control" name="msg" id="msg" placeholder="说明情况">
        </div>
        <div class="form-group" style="margin:4% 0 4%;">
            <button type="submit" id="submit" class="btn btn-primary col-3">SAVE</button>
            <button type="button" id="cancel" class="btn btn-primary col-3"
                    onclick="location='/bxxt/customer/records/{{apply_id}}'">BACK</button>
        </div>
    </form>
</div>




<script>
    function tr_changepic() {
        var reads= new FileReader();
        f=document.getElementById('tr_image').files[0];
        reads.readAsDataURL(f);
        reads.onload=function (e) {
            document.getElementById('tr_image_show').style.display="inline"
            document.getElementById('tr_image_show').src=this.result;
        };
    }
</script>


<script>
    function re_changepic() {
        var reads= new FileReader();
        f=document.getElementById('re_image').files[0];
        reads.readAsDataURL(f);
        reads.onload=function (e) {
            document.getElementById('re_image_show').style.display="inline"
            document.getElementById('re_image_show').src=this.result;
        };
    }
</script>

<script>
    function in_changepic() {
        var reads= new FileReader();
        f=document.getElementById('in_image').files[0];
        reads.readAsDataURL(f);
        reads.onload=function (e) {
            document.getElementById('in_image_show').style.display="inline"
            document.getElementById('in_image_show').src=this.result;
        };
    }

    function  change_h(obj){
        $('#tr_hname').val(obj);
        $('#re_hname').val(obj);
        $('#in_hname').val(obj);
    }

    function  change_s(obj){
        $('#tr_sname').val(obj);
        $('#re_sname').val(obj);
        $('#in_sname').val(obj);
    }

    function  change_d(obj){
        $('#tr_date').val(obj);
        $('#re_date').val(obj);
        $('#in_date').val(obj);
    }


</script>


<script src="{% static 'jquery/jquery-3.5.1.min.js' %}"></script>
<script src="{% static 'bootstrap/js/bootstrap.min.js' %}"></script>



{% endblock %}